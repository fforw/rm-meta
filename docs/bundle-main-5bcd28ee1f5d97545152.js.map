{"version":3,"sources":["webpack://Demo/webpack/bootstrap","webpack://Demo/./node_modules/performance-now/lib/performance-now.js","webpack://Demo/./node_modules/process/browser.js","webpack://Demo/./src/Color.js","webpack://Demo/./src/index.js","webpack://Demo/./src/rm-05.frag","webpack://Demo/./src/rm-05.vert","webpack://Demo/./src/style.css"],"names":["colorRegExp","hex","n","s","toString","length","hue2rgb","p","q","t","Color","r","g","b","other","ratio","out","color","m","exec","col","parseInt","substring","factor","Array","isArray","array","Float32Array","f","off","i","from","validate","Error","h","l","Math","round","PHI","sqrt","TAU","PI","DEG2RAD_FACTOR","config","width","height","canvas","gl","vao","program","u_time","u_resolution","u_mouse","u_palette","u_background","u_shiny","mouseX","mouseY","mouseDown","startX","startY","canvasBounds","resize","window","innerWidth","innerHeight","viewport","createShader","type","source","shader","shaderSource","compileShader","success","getShaderParameter","COMPILE_STATUS","console","error","getShaderInfoLog","deleteShader","undefined","createProgram","vertexShader","fragmentShader","attachShader","linkProgram","getProgramParameter","LINK_STATUS","getProgramInfoLog","deleteProgram","printError","msg","document","getElementById","innerHTML","main","time","uniform1f","perfNow","uniform2f","uniform4f","clearColor","clear","COLOR_BUFFER_BIT","primitiveType","TRIANGLES","offset","count","drawArrays","requestAnimationFrame","onload","getContext","parentNode","removeChild","VERTEX_SHADER","vertexShaderSource","FRAGMENT_SHADER","fragmentShaderSource","positionAttributeLocation","getAttribLocation","positionBuffer","createBuffer","bindBuffer","ARRAY_BUFFER","positions","bufferData","STATIC_DRAW","createVertexArray","bindVertexArray","enableVertexAttribArray","size","FLOAT","normalize","stride","vertexAttribPointer","getUniformLocation","useProgram","addEventListener","onMouseMove","onMouseDown","onMouseUp","getBoundingClientRect","uniform3fv","uniform1fv","ev","clientX","left","self","pageXOffset","clientY","top","pageYOffset"],"mappings":";;QAAA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;AClFA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;;AAEA,CAAC;;AAED;;;;;;;;;;;;;ACnCA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA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","file":"bundle-main-5bcd28ee1f5d97545152.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","// Generated by CoffeeScript 1.12.2\n(function() {\n  var getNanoSeconds, hrtime, loadTime, moduleLoadTime, nodeLoadTime, upTime;\n\n  if ((typeof performance !== \"undefined\" && performance !== null) && performance.now) {\n    module.exports = function() {\n      return performance.now();\n    };\n  } else if ((typeof process !== \"undefined\" && process !== null) && process.hrtime) {\n    module.exports = function() {\n      return (getNanoSeconds() - nodeLoadTime) / 1e6;\n    };\n    hrtime = process.hrtime;\n    getNanoSeconds = function() {\n      var hr;\n      hr = hrtime();\n      return hr[0] * 1e9 + hr[1];\n    };\n    moduleLoadTime = getNanoSeconds();\n    upTime = process.uptime() * 1e9;\n    nodeLoadTime = moduleLoadTime - upTime;\n  } else if (Date.now) {\n    module.exports = function() {\n      return Date.now() - loadTime;\n    };\n    loadTime = Date.now();\n  } else {\n    module.exports = function() {\n      return new Date().getTime() - loadTime;\n    };\n    loadTime = new Date().getTime();\n  }\n\n}).call(this);\n\n//# sourceMappingURL=performance-now.js.map\n","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","const colorRegExp = /^(#)?([0-9a-f]+)$/i;\n\nfunction hex(n)\n{\n    const s = n.toString(16);\n\n    return s.length === 1 ? \"0\" + s : s;\n}\n\nfunction hue2rgb(p, q, t){\n    if(t < 0) t += 1;\n    if(t > 1) t -= 1;\n    if(t < 1/6) return p + (q - p) * 6 * t;\n    if(t < 1/2) return q;\n    if(t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n    return p;\n}\n\nexport default class Color\n{\n    r;\n    g;\n    b;\n\n    constructor(r,g,b)\n    {\n        this.r = r;\n        this.g = g;\n        this.b = b;\n    }\n\n    mix(other, ratio, out)\n    {\n        if (!out)\n        {\n            out = new Color();\n        }\n        out.r = (this.r + (other.r - this.r) * ratio)|0;\n        out.g = (this.g + (other.g - this.g) * ratio)|0;\n        out.b = (this.b + (other.b - this.b) * ratio)|0;\n\n        return out;\n    }\n\n    multiply(n, out)\n    {\n        if (!out)\n        {\n            out = new Color();\n        }\n\n        out.r = this.r * n;\n        out.g = this.g * n;\n        out.b = this.b * n;\n        return out;\n    }\n\n    toRGBHex()\n    {\n        return \"#\" + hex(this.r) + hex(this.g) + hex(this.b );\n    }\n\n    toHex()\n    {\n        return (this.r << 16) + (this.g << 8) + this.b;\n    }\n\n    static validate(color)\n    {\n\n        let m;\n        if (typeof color !== \"string\" || !(m = colorRegExp.exec(color)))\n        {\n            return null;\n        }\n        const col = m[2];\n\n        if (col.length === 3)\n        {\n            return new Color(\n                parseInt(col[0], 16) * 17,\n                parseInt(col[1], 16) * 17,\n                parseInt(col[2], 16) * 17\n            )\n        }\n        else if (col.length === 6)\n        {\n            return new Color(\n                parseInt(col.substring(0, 2), 16),\n                parseInt(col.substring(2, 4), 16),\n                parseInt(col.substring(4, 6), 16)\n            )\n        }\n        else\n        {\n            return null;\n        }\n    }\n\n    static from(color, factor = 1.0)\n    {\n        if (Array.isArray(color))\n        {\n            const length = color.length;\n            const array = new Float32Array(length * 3);\n\n            const f = factor/255;\n\n            let off = 0;\n            for (let i = 0; i < length; i++)\n            {\n                const col = Color.from(color[i]);\n                array[off++] = col.r * f;\n                array[off++] = col.g * f;\n                array[off++] = col.b * f;\n            }\n\n            return array;\n        }\n\n        const col = Color.validate(color);\n\n        if (!col)\n        {\n            throw new Error(\"Invalid color \" + color);\n        }\n\n        col.r *= factor;\n        col.g *= factor;\n        col.b *= factor;\n\n        return col;\n    }\n\n    static fromHSL(h,s,l)\n    {\n        let r, g, b;\n\n        if(s <= 0){\n            r = g = b = l; // achromatic\n        }else{\n\n            const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n            const p = 2 * l - q;\n            r = hue2rgb(p, q, h + 1/3);\n            g = hue2rgb(p, q, h);\n            b = hue2rgb(p, q, h - 1/3);\n        }\n\n        return new Color(\n            Math.round(r * 255),\n            Math.round(g * 255),\n            Math.round(b * 255)\n        );\n    }\n}\n\n","// noinspection ES6UnusedImports\nimport STYLE from \"./style.css\"\nimport perfNow from \"performance-now\"\n\nimport vertexShaderSource from \"./rm-05.vert\"\nimport fragmentShaderSource from \"./rm-05.frag\"\nimport Color from \"./Color\";\n\n//console.log(fragmentShaderSource)\n\nconst PHI = (1 + Math.sqrt(5)) / 2;\nconst TAU = Math.PI * 2;\nconst DEG2RAD_FACTOR = TAU / 360;\n\nconst config = {\n    width: 0,\n    height: 0\n};\n\nlet canvas, gl, vao, program;\n\n\n// uniform: current time\nlet u_time;\n\nlet u_resolution;\n\nlet u_mouse;\n\nlet u_palette;\nlet u_background;\n\nlet u_shiny;\n\nlet mouseX = 0, mouseY = 0, mouseDown, startX, startY;\n\n// Get the container element's bounding box\nlet canvasBounds;\n\nfunction resize()\n{\n    const width = (window.innerWidth) & ~15;\n    const height = (window.innerHeight) | 0;\n\n    config.width = width;\n    config.height = height;\n\n    canvas.width = width;\n    canvas.height = height;\n\n    mouseX = width/2;\n    mouseY = height/2;\n\n    gl.viewport(0, 0, canvas.width, canvas.height);\n}\n\nfunction createShader(gl, type, source) {\n    const shader = gl.createShader(type);\n    gl.shaderSource(shader, source);\n    gl.compileShader(shader);\n    const success = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n    if (success) {\n        return shader;\n    }\n\n    console.error(gl.getShaderInfoLog(shader));  // eslint-disable-line\n    gl.deleteShader(shader);\n    return undefined;\n}\n\nfunction createProgram(gl, vertexShader, fragmentShader) {\n    const program = gl.createProgram();\n    gl.attachShader(program, vertexShader);\n    gl.attachShader(program, fragmentShader);\n    gl.linkProgram(program);\n    const success = gl.getProgramParameter(program, gl.LINK_STATUS);\n    if (success) {\n        return program;\n    }\n\n    console.error(gl.getProgramInfoLog(program));  // eslint-disable-line\n    gl.deleteProgram(program);\n    return undefined;\n}\n\n\nfunction printError(msg)\n{\n    document.getElementById(\"out\").innerHTML = \"<p>\" + msg + \"</p>\";\n}\n\nfunction main(time)\n{\n    const f = mouseDown ? 1 : -1;\n\n    // update uniforms\n    gl.uniform1f(u_time, perfNow() / 1000.0);\n    gl.uniform2f(u_resolution, config.width, config.height);\n    gl.uniform4f(u_mouse, mouseX, config.height - mouseY, startX * f, (config.height - startY) * f);\n\n    gl.clearColor(0, 0, 0, 0);\n    gl.clear(gl.COLOR_BUFFER_BIT);\n    // draw\n    const primitiveType = gl.TRIANGLES;\n    const offset = 0;\n    const count = 6;\n    gl.drawArrays(primitiveType, offset, count);\n\n    requestAnimationFrame(main);\n}\n\n\nwindow.onload = () => {\n    // Get A WebGL context\n    canvas = document.getElementById(\"screen\");\n    gl = canvas.getContext(\"webgl2\");\n    if (!gl) {\n        canvas.parentNode.removeChild(canvas);\n        printError(\"Cannot run shader. Your browser does not support WebGL2.\");\n        return;\n    }\n\n    // create GLSL shaders, upload the GLSL source, compile the shaders\n    const vertexShader = createShader(gl, gl.VERTEX_SHADER, vertexShaderSource);\n    const fragmentShader = createShader(gl, gl.FRAGMENT_SHADER, fragmentShaderSource);\n\n    // Link the two shaders into a program\n    program = createProgram(gl, vertexShader, fragmentShader);\n\n    // look up where the vertex data needs to go.\n    const positionAttributeLocation = gl.getAttribLocation(program, \"a_position\");\n\n    // Create a buffer and put three 2d clip space points in it\n    const positionBuffer = gl.createBuffer();\n\n    // Bind it to ARRAY_BUFFER (think of it as ARRAY_BUFFER = positionBuffer)\n    gl.bindBuffer(gl.ARRAY_BUFFER, positionBuffer);\n\n    const positions = [\n        -1, -1,\n         1, -1,\n        -1, 1,\n        -1, 1,\n         1, 1,\n         1,-1\n    ];\n    gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(positions), gl.STATIC_DRAW);\n\n    // Create a vertex array object (attribute state)\n    vao = gl.createVertexArray();\n\n    // and make it the one we're currently working with\n    gl.bindVertexArray(vao);\n\n    // Turn on the attribute\n    gl.enableVertexAttribArray(positionAttributeLocation);\n\n    // Tell the attribute how to get data out of positionBuffer (ARRAY_BUFFER)\n    const size = 2;          // 2 components per iteration\n    const type = gl.FLOAT;   // the data is 32bit floats\n    const normalize = false; // don't normalize the data\n    const stride = 0;        // 0 = move forward size * sizeof(type) each iteration to get the next position\n    let offset = 0;        // start at the beginning of the buffer\n    gl.vertexAttribPointer(\n        positionAttributeLocation, size, type, normalize, stride, offset);\n\n    resize();\n\n    // Tell WebGL how to convert from clip space to pixels\n    gl.viewport(0, 0, gl.canvas.width, gl.canvas.height);\n\n\n    u_time = gl.getUniformLocation(program, \"u_time\");\n    u_resolution = gl.getUniformLocation(program, \"u_resolution\");\n    u_mouse = gl.getUniformLocation(program, \"u_mouse\");\n    u_palette = gl.getUniformLocation(program, \"u_palette\");\n    u_background = gl.getUniformLocation(program, \"u_background\");\n    u_shiny = gl.getUniformLocation(program, \"u_shiny\");\n\n    // Tell it to use our program (pair of shaders)\n    gl.useProgram(program);\n\n    // Bind the attribute/buffer set we want.\n    gl.bindVertexArray(vao);\n\n    window.addEventListener(\"resize\", resize, true);\n    canvas.addEventListener(\"mousemove\", onMouseMove, true);\n    canvas.addEventListener(\"mousedown\", onMouseDown, true);\n    document.addEventListener(\"mouseup\", onMouseUp, true);\n\n    canvasBounds = document.getElementById(\"screen\").getBoundingClientRect();\n\n    gl.uniform3fv(u_palette, Color.from(\n        [\n            \"#000\",\n            \"#fff\",\n            \"#f00\",\n            \"#010144\",\n            \"#0f0\",\n            \"#ff0\",\n            \"#0ff\",\n            \"#f0f\",\n        ],\n        1\n    ));\n\n\n    gl.uniform3fv(u_background, Color.from(\n        [\n            \"#62b9b9\",\n            \"#0784aa\",\n            \"#50aead\",\n            \"#63adad\",\n            \"#050401\",\n            \"#d8f9ba\",\n\n            \"#dadf5c\",\n            \"#655de7\",\n            \"#3bc9cd\",\n            \"#ff4e49\",\n            \"#37853a\",\n            \"#ff9bfc\",\n\n            \"#ff2200\",\n            \"#ff1100\",\n            \"#ff8800\",\n            \"#ff0000\",\n            \"#030103\",\n            \"#010104\",\n\n            \"#888\",\n            \"#898\",\n            \"#988\",\n            \"#889\",\n            \"#000\",\n            \"#fff\",\n\n            // repeat first\n            \"#62b9b9\",\n            \"#0784aa\",\n            \"#50aead\",\n            \"#63adad\",\n            \"#050401\",\n            \"#d8f9ba\",\n\n\n        ],\n        1\n    ));\n\n\n\n    gl.uniform1fv(u_shiny, new Float32Array([\n        10,\n        10,\n        10,\n        100,\n        10,\n        10,\n        10,\n        10\n    ]));\n\n    requestAnimationFrame(main)\n}\n\n\n\n// Apply the mouse event listener\n\nfunction onMouseMove(ev)\n{\n    if (mouseDown)\n    {\n        mouseX = (ev.clientX - canvasBounds.left) + self.pageXOffset;\n        mouseY = (ev.clientY - canvasBounds.top) + self.pageYOffset;\n    }\n}\n\nfunction onMouseDown(ev)\n{\n    mouseDown = true;\n    startX = (ev.clientX - canvasBounds.left) + self.pageXOffset;\n    startY = (ev.clientY - canvasBounds.top) + self.pageYOffset;\n    mouseX = startX;\n    mouseY = startY;\n}\n\nfunction onMouseUp(ev)\n{\n    mouseDown = false;\n}\n\n","export default \"#version 300 es\\nprecision lowp float;\\n#define GLSLIFY 1\\n\\nuniform float u_time;\\nuniform vec2 u_resolution;\\nuniform vec4 u_mouse;\\nuniform vec3 u_palette[8];\\nuniform float u_shiny[8];\\nuniform vec3 u_background[30];\\n\\nconst float pi = 3.141592653589793;\\nconst float tau = pi * 2.0;\\nconst float hpi = pi * 0.5;\\nconst float qpi = pi * 0.25;\\nconst float phi = (1.0+sqrt(5.0))/2.0;\\n\\nout vec4 outColor;\\n\\n#define MAX_STEPS 100\\n#define MAX_DIST 150.\\n#define SURF_DIST .001\\n\\n#define ROT(a) mat2(cos(a), -sin(a), sin(a), cos(a))\\n#define SHEARX(a) mat2(1, 0, sin(a), 1)\\n\\nfloat rand(float n){return fract(sin(n) * 43758.5453123);}\\n\\n// Camera helper\\n\\nvec3 Camera(vec2 uv, vec3 p, vec3 l, float z) {\\n    vec3 f = normalize(l-p),\\n    r = normalize(\\n    cross(\\n    vec3(0, 1, 0),\\n    f\\n    )\\n    ),\\n    u = cross(f, r),\\n    c = p + f * z,\\n    i = c + uv.x*r + uv.y*u,\\n    d = normalize(i-p);\\n    return d;\\n}\\n\\n// 2d rotation matrix helper\\nmat2 Rot(float a) {\\n    float x = cos(a);\\n    float y = sin(a);\\n    return mat2(x, -y, y, x);\\n}\\n\\n// RAY MARCHING PRIMITIVES\\n\\nfloat smin(float a, float b, float k) {\\n    float h = clamp(0.5+0.5*(b-a)/k, 0., 1.);\\n    return mix(b, a, h) - k*h*(1.0-h);\\n}\\n\\nfloat sdCapsule(vec3 p, vec3 a, vec3 b, float r) {\\n    vec3 ab = b-a;\\n    vec3 ap = p-a;\\n\\n    float t = dot(ab, ap) / dot(ab, ab);\\n    t = clamp(t, 0., 1.);\\n\\n    vec3 c = a + t*ab;\\n\\n    return length(p-c)-r;\\n}\\n\\nfloat sdCylinder(vec3 p, vec3 a, vec3 b, float r) {\\n    vec3 ab = b-a;\\n    vec3 ap = p-a;\\n\\n    float t = dot(ab, ap) / dot(ab, ab);\\n    //t = clamp(t, 0., 1.);\\n\\n    vec3 c = a + t*ab;\\n\\n    float x = length(p-c)-r;\\n    float y = (abs(t-.5)-.5)*length(ab);\\n    float e = length(max(vec2(x, y), 0.));\\n    float i = min(max(x, y), 0.);\\n\\n    return e+i;\\n}\\n\\nfloat sdCappedCylinder( vec3 p, float h, float r )\\n{\\n    vec2 d = abs(vec2(length(p.xz),p.y)) - vec2(h,r);\\n    return min(max(d.x,d.y),0.0) + length(max(d,0.0));\\n}\\n\\nfloat sdSphere(vec3 p, float s)\\n{\\n    return length(p)-s;\\n}\\n\\nfloat sdTorus(vec3 p, vec2 r) {\\n    float x = length(p.xz)-r.x;\\n    return length(vec2(x, p.y))-r.y;\\n}\\n\\nfloat sdRoundBox(vec3 p, vec3 b, float r)\\n{\\n    vec3 q = abs(p) - b;\\n    return length(max(q, 0.0)) + min(max(q.x, max(q.y, q.z)), 0.0) - r;\\n}\\n\\nfloat sdBeam(vec3 p, vec3 c)\\n{\\n    return length(p.xz-c.xy)-c.z;\\n}\\n\\nfloat dBox(vec3 p, vec3 s) {\\n    p = abs(p)-s;\\n    return length(max(p, 0.))+min(max(p.x, max(p.y, p.z)), 0.);\\n}\\n\\nvec2 opUnion(vec2 curr, float d, float id)\\n{\\n    if (d < curr.x)\\n    {\\n        curr.x = d;\\n        curr.y = id;\\n    }\\n\\n    return curr;\\n}\\n\\nvec2 softMinUnion(vec2 curr, float d, float id)\\n{\\n    if (d < curr.x)\\n    {\\n        curr.x = smin(curr.x, d, 0.5);\\n        curr.y = id;\\n    }\\n\\n    return curr;\\n}\\n\\nfloat sdBoundingBox(vec3 p, vec3 b, float e)\\n{\\n    p = abs(p)-b;\\n    vec3 q = abs(p+e)-e;\\n    return min(min(\\n    length(max(vec3(p.x, q.y, q.z), 0.0))+min(max(p.x, max(q.y, q.z)), 0.0),\\n    length(max(vec3(q.x, p.y, q.z), 0.0))+min(max(q.x, max(p.y, q.z)), 0.0)),\\n    length(max(vec3(q.x, q.y, p.z), 0.0))+min(max(q.x, max(q.y, p.z)), 0.0));\\n}\\n\\nfloat sdHexPrism( vec3 p, vec2 h )\\n{\\n    const vec3 k = vec3(-0.8660254, 0.5, 0.57735);\\n    p = abs(p);\\n    p.xy -= 2.0*min(dot(k.xy, p.xy), 0.0)*k.xy;\\n    vec2 d = vec2(\\n    length(p.xy-vec2(clamp(p.x,-k.z*h.x,k.z*h.x), h.x))*sign(p.y-h.x),\\n    p.z-h.y );\\n    return min(max(d.x,d.y),0.0) + length(max(d,0.0));\\n}\\n\\nfloat shape(float v, float x)\\n{\\n    return x > 0.0 ? -abs(v) : abs(v);\\n}\\n\\nconst mat2 frontPlaneRot = ROT(0.05235987755982988);\\nconst mat2 backPlaneRot = ROT(-0.05235987755982988);\\nconst mat2 sCutRot = ROT(0.88);\\nconst mat2 rotate90 = ROT(1.5707963267948966);\\nconst mat2 rotate60 = ROT(1.0471975511965976);\\nconst mat2 rotate30 = ROT(0.5235987755982988);\\nconst mat2 fourShear = SHEARX(-0.20943951023931953);\\n\\nconst float sin60 = sin(tau/6.0);\\nvec2 N22 (vec2 p) {\\n    vec3 a = fract(p.xyx*vec3(123.34, 234.34, 345.65));\\n    a += dot(a, a+34.45);\\n    return fract(vec2(a.x*a.y, a.y*a.z));\\n}\\n\\nfloat atan2(in float y, in float x)\\n{\\n    return abs(x) > abs(y) ? hpi - atan(x,y) : atan(y,x);\\n}\\nfloat ndot( in vec2 a, in vec2 b ) { return a.x*b.x - a.y*b.y; }\\n\\nfloat sdRhombus( in vec2 p, in vec2 b )\\n{\\n    vec2 q = abs(p);\\n    float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\\n    float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\\n    return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\\n}\\n\\nfloat sdEquilateralTriangle( in vec2 p )\\n{\\n    const float k = sqrt(3.0);\\n    p.x = abs(p.x) - 1.0;\\n    p.y = p.y + 1.0/k;\\n    if( p.x+k*p.y>0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\\n    p.x -= clamp( p.x, -2.0, 0.0 );\\n    return -length(p)*sign(p.y);\\n}\\n\\nfloat sdStar5(in vec2 p, in float r, in float rf)\\n{\\n    const vec2 k1 = vec2(0.809016994375, -0.587785252292);\\n    const vec2 k2 = vec2(-k1.x,k1.y);\\n    p.x = abs(p.x);\\n    p -= 2.0*max(dot(k1,p),0.0)*k1;\\n    p -= 2.0*max(dot(k2,p),0.0)*k2;\\n    p.x = abs(p.x);\\n    p.y -= r;\\n    vec2 ba = rf*vec2(-k1.y,k1.x) - vec2(0,1);\\n    float h = clamp( dot(p,ba)/dot(ba,ba), 0.0, r );\\n    return length(p-ba*h) * sign(p.y*ba.x-p.x*ba.y);\\n}\\n\\nvec2 getDistance(vec3 p) {\\n\\n    vec2 result = vec2(1e6, 1.0);\\n    result = opUnion(result, sdTorus(p - vec3(0,1,0), vec2(2, 0.5)) - 0.05, 1.0);\\n    return result;\\n\\n}\\n\\nvec3 rayMarch(vec3 ro, vec3 rd) {\\n\\n    float dO = 0.;\\n    float id = 0.0;\\n\\n    int i;\\n\\n    for (i=0; i < MAX_STEPS; i++) {\\n        vec3 p = ro + rd*dO;\\n        vec2 result = getDistance(p);\\n        float dS = result.x;\\n        dO += dS;\\n        id = result.y;\\n        if (dO > MAX_DIST || abs(dS) < SURF_DIST * (dO*.125 + 1.))\\n        break;\\n    }\\n\\n    return vec3(dO, id, i);\\n}\\n\\nvec3 getNormal(vec3 p) {\\n    float d = getDistance(p).x;\\n    vec2 e = vec2(.001, 0);\\n\\n    vec3 n = d - vec3(\\n    getDistance(p-e.xyy).x,\\n    getDistance(p-e.yxy).x,\\n    getDistance(p-e.yyx).x\\n    );\\n\\n    return normalize(n);\\n}\\n\\nvec3 getPaletteColor(float id)\\n{\\n    int last = u_palette.length() - 1;\\n    //return id < float(last) ? mix(u_palette[int(id)], u_palette[int(id) + 1], fract(id)) : u_palette[last];\\n    return mix(u_palette[int(id)], u_palette[int(id) + 1], fract(id));\\n}\\n\\nvec3 applyFog(\\nin vec3  rgb,      // original color of the pixel\\nin float distance, // camera to point distance\\nin vec3  rayOri,   // camera position\\nin vec3  rayDir,\\nin vec3 p     // camera to point vector\\n)\\n{\\n    float pos = p.z;\\n\\n    float c = 0.005;\\n    float b = 2.0;// + sin((pos + p.x * sin(pos * 0.27)) * 0.31 ) * 0.15 + sin(pos * 0.17 ) * 0.15;\\n\\n    float fogAmount = c * exp(-rayOri.y*b) * (1.0-exp( -distance*rayDir.y*b ))/rayDir.y;\\n    vec3  fogColor  = vec3(1);\\n    return mix( rgb, fogColor, fogAmount );\\n}\\n\\nfloat softshadow( in vec3 ro, in vec3 rd, float k, float mx )\\n{\\n    float res = 1.0;\\n    float ph = 1e20;\\n    for( float t=0.001; t < mx; )\\n    {\\n        float h = getDistance(ro + rd*t).x;\\n        if( h < 0.0001 )\\n        return 0.0;\\n\\n        float y = h * h / ( 2.0 * ph );\\n        float d = sqrt( h * h - y * y);\\n        res = min( res, k * d /max(0.0, t -y) );\\n        ph = h;\\n        t += h;\\n    }\\n    return res;\\n}\\n\\nvec3 getBackground(in vec3 n, int offset)\\n{\\n\\n    vec3 tb = vec3(0, n.y > 0.0 ? 1 : -1 , 0);\\n    vec3 tbCol = u_background[offset + (n.y > 0.0 ? 5 : 4)];\\n\\n    vec3 rl = vec3(n.x > 0.0 ? 1 : -1 , 0, 0);\\n    vec3 rlCol = u_background[offset + (n.x > 0.0 ? 0 : 2)];\\n\\n    vec3 fb = vec3(0, 0, n.z > 0.0 ? 1 : -1);\\n    vec3 fbCol = u_background[offset + (n.z > 0.0 ? 1 : 3)];\\n\\n    float a1 = length(cross(n, tb));\\n    float a2 = length(cross(n, rl));\\n    float a3 = length(cross(n, fb));\\n\\n    return tbCol * (1.0 - a1) + rlCol * (1.0 - a2) + fbCol * (1.0 - a3);\\n}\\n\\nvoid main(void)\\n{\\n    vec2 uv = (gl_FragCoord.xy-.5*u_resolution.xy)/u_resolution.y;\\n\\n    vec2 m = u_mouse.xy/u_resolution.xy;\\n\\n    vec3 ro = vec3(\\n    0,\\n    6,\\n    -10\\n    );\\n\\n    ro.yz *= Rot((-m.y + 0.5) * pi + u_time * 0.27);\\n    ro.xz *= Rot((-m.x + 0.5) * 7.0 - u_time * 0.31);\\n\\n    vec3 lookAt = vec3(0, 1, 0);\\n\\n    vec3 rd = Camera(uv, ro, lookAt, 1.5);\\n\\n    float t = u_time * 0.025;\\n\\n    float pos = fract(t * 4.0);\\n    float id = mod(floor(t * 4.0), 4.0);\\n    int offset = int(id + step(0.5, -2. + (pos * 4.0) + sin(length(vec2(rand(id) * 0.5, rand(id+12.0) * 0.5) - uv)))) * 6;\\n\\n    vec3 col = getBackground(rd, offset);\\n\\n    vec3 result = rayMarch(ro, rd);\\n    float d = result.x;\\n\\n    vec3 p = ro + rd * d;\\n    if (d < MAX_DIST) {\\n\\n        vec3 lightPos = vec3(-4,4,-4);\\n        //vec3 lightPos = vec3(-40,20,0);\\n        vec3 lightDir = normalize(lightPos - p);\\n        vec3 norm = getNormal(p);\\n\\n        vec3 lightColor = vec3(1.0);\\n\\n        float id = result.y;\\n\\n        // ambient\\n        vec3 ambient = lightColor * vec3(0.001,0.005,0.01);\\n\\n        // diffuse\\n        float diff = max(dot(norm, lightDir), 0.0);\\n        vec3 tone = getPaletteColor(id);\\n\\n        //float shadow = softshadow(p, lightDir, 2.0);\\n        //vec3 diffuse = lightColor * pow(vec3(shadow),vec3(1.0,1.2,1.5)) * (diff * tone);\\n\\n        // specular\\n        vec3 viewDir = normalize(rd);\\n        vec3 reflectDir = reflect(lightDir, norm);\\n        float spec = pow(max(dot(viewDir, reflectDir), 0.0), u_shiny[int(id)]);\\n        //float shadow = softshadow(p, lightDir, 10.0, length(lightPos - p));\\n        vec3 specular = lightColor * spec * vec3(0.7843,0.8823,0.9451) * 0.5;\\n\\n        vec3 ref = getBackground(reflect(rd, norm), offset);\\n        vec3 diffuse = diff * tone;\\n\\n        col = ref * 0.7 + ambient + (diffuse + specular) ;\\n\\n    }\\n    //col = applyFog(col, d, ro, rd, p);\\n\\n    col = pow(col, vec3(1.0/2.2));\\n\\n    outColor = vec4(\\n        col,\\n        1.0\\n    );\\n\\n    //outColor = vec4(1,0,1,1);\\n}\\n\";","export default \"#version 300 es\\n#define GLSLIFY 1\\n\\n// an attribute is an input (in) to a vertex shader.\\n// It will receive data from a buffer\\nin vec4 a_position;\\n\\n// all shaders have a main function\\nvoid main() {\\n\\n    // gl_Position is a special variable a vertex shader\\n    // is responsible for setting\\n    gl_Position = a_position;\\n}\\n\";","// extracted by mini-css-extract-plugin"],"sourceRoot":""}